<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://isjmawdwipxcpcrgjnjp.supabase.co/storage/v1/object/sign/logos/556960937_1521236358911637_5388455041696255542_n%20(1).jpg?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8zODlmYzgyNC1mYjBjLTRmZGQtODZjNi03NjBiODgzZjhjYzgiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJsb2dvcy81NTY5NjA5MzdfMTUyMTIzNjM1ODkxMTYzN181Mzg4NDU1MDQxNjk2MjU1NTQyX24gKDEpLmpwZyIsImlhdCI6MTc2Mjk1Mjk3NSwiZXhwIjoxNzk0NDg4OTc1fQ.kPbbEE6yR9NTIsdxp-PfNis_dm80lAskWmRfYa0x-TY"
        type="image/png">
    <title>Admin Dashboard - CropTop</title>
    
    <!-- Modular CSS -->
    <link rel="stylesheet" href="./css/main.css">
    
    <!-- Supabase JS Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <img src="https://isjmawdwipxcpcrgjnjp.supabase.co/storage/v1/object/sign/logos/556960937_1521236358911637_5388455041696255542_n%20(1).jpg?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8zODlmYzgyNC1mYjBjLTRmZGQtODZjNi03NjBiODgzZjhjYzgiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJsb2dvcy81NTY5NjA5MzdfMTUyMTIzNjM1ODkxMTYzN181Mzg4NDU1MDQxNjk2MjU1NTQyX24gKDEpLmpwZyIsImlhdCI6MTc2Mjk1Mjk3NSwiZXhwIjoxNzk0NDg4OTc1fQ.kPbbEE6yR9NTIsdxp-PfNis_dm80lAskWmRfYa0x-TY" 
                 alt="CropTop Logo" class="sidebar-logo">
            <h2 class="sidebar-title">CropTop Admin</h2>
        </div>

        <nav class="sidebar-nav">
            <a href="#" class="nav-item active" data-section="overview">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M12 1v6m0 6v6m8.66-10.66l-5.2 3m-6.92 4l-5.2 3M1.34 13.34l5.2-3m6.92-4l5.2-3"></path>
                </svg>
                <span>Overview</span>
            </a>

            <div class="nav-item-wrapper">
                <a href="#" class="nav-item has-submenu" data-section="accounts" id="accountsNav">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87m-4-12a4 4 0 0 1 0 7.75"></path>
                    </svg>
                    <span>Accounts</span>
                    <svg class="dropdown-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </a>
                
                <!-- Accounts Submenu -->
                <div class="submenu" id="accountsSubmenu">
                    <a href="#" class="submenu-item" data-subsection="create-user">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="8.5" cy="7" r="4"></circle>
                            <line x1="20" y1="8" x2="20" y2="14"></line>
                            <line x1="23" y1="11" x2="17" y2="11"></line>
                        </svg>
                        <span>Create User</span>
                    </a>
                    <a href="#" class="submenu-item" data-subsection="create-admin">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                            <path d="M2 17l10 5 10-5"></path>
                            <path d="M2 12l10 5 10-5"></path>
                        </svg>
                        <span>Create Admin</span>
                    </a>
                    <a href="#" class="submenu-item" data-subsection="member-list">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        <span>Member List</span>
                    </a>
                </div>
            </div>

            <a href="crops.html" class="nav-item" data-section="crops">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                    <path d="M12 22V12"></path>
                    <path d="M12 2v10"></path>
                    <path d="M4 8c2 0 4 2 4 4"></path>
                    <path d="M20 8c-2 0-4 2-4 4"></path>
                </svg>
                <span>Crops</span>
            </a>

            <a href="equipment.html" class="nav-item" data-section="equipment">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="7" width="20" height="10" rx="2"></rect>
                    <circle cx="7" cy="17" r="2"></circle>
                    <circle cx="17" cy="17" r="2"></circle>
                    <path d="M12 7V3"></path>
                    <path d="M9 3h6"></path>
                    <path d="M2 10h20"></path>
                </svg>
                <span>Equipment</span>
            </a>

            <a href="member-rentals.html" class="nav-item" data-section="member-rentals">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                    <circle cx="8.5" cy="7" r="4"></circle>
                    <polyline points="17 11 19 13 23 9"></polyline>
                </svg>
                <span>Member Rentals</span>
            </a>

            <a href="non-member-rentals.html" class="nav-item" data-section="non-member-rentals">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                    <circle cx="8.5" cy="7" r="4"></circle>
                    <line x1="23" y1="11" x2="17" y2="11"></line>
                </svg>
                <span>Non-Member Rentals</span>
            </a>
            
            <a href="fertilizer-distribution.html" class="nav-item" data-section="fertilizer-distribution">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                    <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                    <line x1="12" y1="22.08" x2="12" y2="12"></line>
                </svg>
                <span>Fertilizer Distribution</span>
            </a>

            <a href="#" class="nav-item" data-section="membership-fee">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                    <line x1="1" y1="10" x2="23" y2="10"></line>
                </svg>
                <span>Membership Fee Details</span>
            </a>

            <a href="announcements.html" class="nav-item" data-section="announcements">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                </svg>
                <span>Announcements</span>
            </a>

            <a href="#" class="nav-item" data-section="feedback">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                </svg>
                <span>Feedback</span>
            </a>

            <a href="#" class="nav-item" data-section="reports">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
                <span>Reports</span>
            </a>

            <a href="#" class="nav-item" data-section="analytics">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="20" x2="12" y2="10"></line>
                    <line x1="18" y1="20" x2="18" y2="4"></line>
                    <line x1="6" y1="20" x2="6" y2="16"></line>
                </svg>
                <span>Analytics</span>
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Header -->
        <header class="top-header">
            <h1 class="page-title" id="pageTitle">Admin</h1>
            
            <div class="header-right">
                <span class="admin-name">Admin</span>
                <div class="admin-profile" id="adminProfileBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                </div>
                
                <!-- Dropdown Menu -->
                <div class="dropdown-menu" id="dropdownMenu">
                    <button class="dropdown-item logout-btn" id="logoutBtn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                        <span>Logout</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Dashboard Content Container -->
        <div id="contentContainer">
            <!-- Content will be dynamically loaded here -->
        </div>
    </main>

    <!-- User Details Modal -->
    <div id="userDetailsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>User Details</h2>
                <button class="close-modal" onclick="closeUserDetailsModal()">&times;</button>
            </div>
            <div class="modal-body" id="userDetailsContent">
                <!-- User details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Add Equipment Modal -->
    <div id="addEquipmentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Equipment</h2>
                <button class="close-modal" onclick="closeAddEquipmentModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addEquipmentForm" class="equipment-form">
                    <div class="form-group">
                        <label for="equipmentPhoto">Equipment Photo</label>
                        <input type="file" id="equipmentPhoto" name="equipmentPhoto" accept="image/jpeg,image/jpg,image/png,image/webp" onchange="previewAddPhoto(event)">
                        <small style="color: #666; display: block; margin-top: 0.5rem;">Accepted formats: JPEG, PNG, WebP (Max 5MB)</small>
                        <div id="addPhotoPreview" style="margin-top: 1rem;"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="equipmentName">Equipment Name *</label>
                        <input type="text" id="equipmentName" name="equipmentName" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="equipmentType">Type *</label>
                        <input type="text" id="equipmentType" name="equipmentType" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="memberRate">Member Rate (₱/day) *</label>
                        <input type="number" id="memberRate" name="memberRate" step="0.01" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="operatorRate">Operator Rate (₱/day) *</label>
                        <input type="number" id="operatorRate" name="operatorRate" step="0.01" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="equipmentStatus">Status *</label>
                        <select id="equipmentStatus" name="equipmentStatus" required>
                            <option value="AVAILABLE">Available</option>
                            <option value="RENTED">Rented</option>
                            <option value="MAINTENANCE">Maintenance</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Add Equipment
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Equipment Modal -->
    <div id="editEquipmentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Equipment</h2>
                <button class="close-modal" onclick="closeEditEquipmentModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editEquipmentForm" class="equipment-form">
                    <input type="hidden" id="editEquipmentId">
                    
                    <div class="form-group">
                        <label>Current Photo</label>
                        <div id="editPhotoPreview" style="margin-bottom: 1rem;"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="editEquipmentPhoto">Upload New Photo (Optional)</label>
                        <input type="file" id="editEquipmentPhoto" name="editEquipmentPhoto" accept="image/jpeg,image/jpg,image/png,image/webp" onchange="previewEditPhoto(event)">
                        <small style="color: #666; display: block; margin-top: 0.5rem;">Accepted formats: JPEG, PNG, WebP (Max 5MB)</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="editEquipmentName">Equipment Name *</label>
                        <input type="text" id="editEquipmentName" name="editEquipmentName" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editEquipmentType">Type *</label>
                        <input type="text" id="editEquipmentType" name="editEquipmentType" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editMemberRate">Member Rate (₱/day) *</label>
                        <input type="number" id="editMemberRate" name="editMemberRate" step="0.01" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editOperatorRate">Operator Rate (₱/day) *</label>
                        <input type="number" id="editOperatorRate" name="editOperatorRate" step="0.01" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editEquipmentStatus">Status *</label>
                        <select id="editEquipmentStatus" name="editEquipmentStatus" required>
                            <option value="AVAILABLE">Available</option>
                            <option value="RENTED">Rented</option>
                            <option value="MAINTENANCE">Maintenance</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                        </svg>
                        Update Equipment
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Fertilizer Distribution Modal -->
    <div id="addDistributionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Fertilizer Distribution</h2>
                <button class="close-modal" onclick="closeAddDistributionModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addDistributionForm" class="distribution-form">
                    <div class="form-group">
                        <label for="distributionUser">Select User *</label>
                        <select id="distributionUser" name="distributionUser" required>
                            <option value="">Select User</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="distributionFertilizerType">Fertilizer Type *</label>
                        <select id="distributionFertilizerType" name="distributionFertilizerType" required>
                            <option value="">Select Type</option>
                        </select>
                    </div>
                    
                    <div id="fertilizerTypePreview"></div>
                    
                    <div class="form-group">
                        <label for="distributionQuantity">Quantity (kg) *</label>
                        <input type="number" id="distributionQuantity" name="distributionQuantity" step="0.01" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="distributionDate">Distribution Date *</label>
                        <input type="date" id="distributionDate" name="distributionDate" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="distributionPurpose">Purpose</label>
                        <textarea id="distributionPurpose" name="distributionPurpose" rows="3" placeholder="e.g., Rice crop fertilization, Soil improvement, etc."></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Add Distribution
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Fertilizer Type Modal -->
    <div id="addFertilizerTypeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Fertilizer Type</h2>
                <button class="close-modal" onclick="closeAddFertilizerTypeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addFertilizerTypeForm" class="fertilizer-type-form" onsubmit="handleAddFertilizerType(event)">
                    <div class="form-group">
                        <label for="fertilizerTypePhoto">Fertilizer Photo</label>
                        <input type="file" id="fertilizerTypePhoto" name="fertilizerTypePhoto" accept="image/jpeg,image/jpg,image/png,image/webp" onchange="previewAddTypePhoto(event)">
                        <small style="color: #666; display: block; margin-top: 0.5rem;">Accepted formats: JPEG, PNG, WebP (Max 5MB)</small>
                        <div id="addTypePhotoPreview" style="margin-top: 1rem;"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="fertilizerTypeName">Fertilizer Name *</label>
                        <input type="text" id="fertilizerTypeName" name="fertilizerTypeName" required placeholder="e.g., Urea, NPK 15-15-15">
                    </div>
                    
                    <div class="form-group">
                        <label for="fertilizerTypeDescription">Description</label>
                        <textarea id="fertilizerTypeDescription" name="fertilizerTypeDescription" rows="3" placeholder="Brief description of the fertilizer type..."></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Add Fertilizer Type
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Fertilizer Type Modal -->
    <div id="editFertilizerTypeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Fertilizer Type</h2>
                <button class="close-modal" onclick="closeEditFertilizerTypeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editFertilizerTypeForm" class="fertilizer-type-form" onsubmit="handleEditFertilizerType(event)">
                    <input type="hidden" id="editFertilizerTypeId">
                    
                    <div class="form-group">
                        <label>Current Photo</label>
                        <div id="editTypePhotoPreview" style="margin-bottom: 1rem;"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="editFertilizerTypePhoto">Upload New Photo (Optional)</label>
                        <input type="file" id="editFertilizerTypePhoto" name="editFertilizerTypePhoto" accept="image/jpeg,image/jpg,image/png,image/webp" onchange="previewEditTypePhoto(event)">
                        <small style="color: #666; display: block; margin-top: 0.5rem;">Accepted formats: JPEG, PNG, WebP (Max 5MB)</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="editFertilizerTypeName">Fertilizer Name *</label>
                        <input type="text" id="editFertilizerTypeName" name="editFertilizerTypeName" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editFertilizerTypeDescription">Description</label>
                        <textarea id="editFertilizerTypeDescription" name="editFertilizerTypeDescription" rows="3"></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                        </svg>
                        Update Fertilizer Type
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Non-Member Rental Guidelines Modal -->
    <div id="editNonMemberGuidelinesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Non-Member Rental Rules & Guidelines</h2>
                <button class="close-modal" onclick="closeEditNonMemberGuidelinesModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editNonMemberGuidelinesForm" class="guidelines-form">
                    <div class="form-group">
                        <label for="nonMemberGuidelinesText">Guidelines (Max 500 characters) *</label>
                        <textarea id="nonMemberGuidelinesText" name="nonMemberGuidelinesText" rows="10" maxlength="500" required placeholder="Enter rental rules and guidelines for non-members..."></textarea>
                        <small class="char-count">0 / 500 characters</small>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                        </svg>
                        Save Guidelines
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Non-Member Rental Modal -->
    <div id="addNonMemberRentalModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Non-Member Rental</h2>
                <button class="close-modal" onclick="closeAddNonMemberRentalModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addNonMemberRentalForm" class="rental-form">
                    <div class="form-group">
                        <label for="nmCustomerName">Customer Name *</label>
                        <input type="text" id="nmCustomerName" name="nmCustomerName" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="nmPhone">Phone Number *</label>
                        <input type="tel" id="nmPhone" name="nmPhone" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="nmAddress">Address *</label>
                        <textarea id="nmAddress" name="nmAddress" rows="3" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="nmEquipment">Equipment *</label>
                        <select id="nmEquipment" name="nmEquipment" required>
                            <option value="">Select Equipment</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="nmStartDate">Start Date *</label>
                        <input type="date" id="nmStartDate" name="nmStartDate" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="nmEndDate">End Date *</label>
                        <input type="date" id="nmEndDate" name="nmEndDate" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="nmPurpose">Purpose *</label>
                        <textarea id="nmPurpose" name="nmPurpose" rows="3" required></textarea>
                    </div>
                    
                    <!-- Auto-calculated fields -->
                    <div class="calculation-summary">
                        <h3>Rental Summary</h3>
                        <div class="summary-item">
                            <span>Total Days:</span>
                            <strong id="nmTotalDays">0</strong>
                        </div>
                        <div class="summary-item">
                            <span>Equipment Cost (with 15% increase):</span>
                            <strong id="nmEquipmentCost">₱0.00</strong>
                        </div>
                        <div class="summary-item">
                            <span>Operator Salary:</span>
                            <strong id="nmOperatorSalary">₱0.00</strong>
                        </div>
                        <div class="summary-item total">
                            <span>Total Cost:</span>
                            <strong id="nmTotalCost">₱0.00</strong>
                        </div>
                    </div>
                    
                    <div class="modal-actions">
                        <button type="button" class="cancel-btn" onclick="closeAddNonMemberRentalModal()">Cancel</button>
                        <button type="submit" class="submit-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Create Rental
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Reschedule Non-Member Rental Modal -->
    <div id="rescheduleNonMemberModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Reschedule Rental</h2>
                <button class="close-btn" onclick="closeRescheduleNonMemberModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <form id="rescheduleNonMemberForm">
                    <input type="hidden" id="rescheduleRentalId">
                    <div class="form-group">
                        <label for="rescheduleNewEndDate">New End Date *</label>
                        <input type="date" id="rescheduleNewEndDate" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="cancel-btn" onclick="closeRescheduleNonMemberModal()">Cancel</button>
                        <button type="submit" class="submit-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 11 12 14 22 4"></polyline>
                                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                            </svg>
                            Reschedule
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Announcement Modal -->
    <div id="addAnnouncementModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create New Announcement</h2>
                <button class="close-modal" onclick="closeAddAnnouncementModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addAnnouncementForm" class="announcement-form">
                    <div class="form-group">
                        <label for="announcementTitle">Title *</label>
                        <input type="text" id="announcementTitle" name="announcementTitle" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="announcementCategory">Category *</label>
                            <select id="announcementCategory" name="announcementCategory" required>
                                <option value="">Select Category</option>
                                <option value="general">General</option>
                                <option value="meeting">Meeting</option>
                                <option value="event">Event</option>
                                <option value="notice">Notice</option>
                                <option value="emergency">Emergency</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="announcementPriority">Priority *</label>
                            <select id="announcementPriority" name="announcementPriority" required>
                                <option value="">Select Priority</option>
                                <option value="low">Low</option>
                                <option value="medium">Medium</option>
                                <option value="high">High</option>
                                <option value="urgent">Urgent</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="announcementMessage">Message *</label>
                        <textarea id="announcementMessage" name="announcementMessage" rows="6" required></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Post Announcement
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Announcement Modal -->
    <div id="editAnnouncementModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Announcement</h2>
                <button class="close-modal" onclick="closeEditAnnouncementModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editAnnouncementForm" class="announcement-form">
                    <input type="hidden" id="editAnnouncementId">
                    
                    <div class="form-group">
                        <label for="editAnnouncementTitle">Title *</label>
                        <input type="text" id="editAnnouncementTitle" name="editAnnouncementTitle" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editAnnouncementCategory">Category *</label>
                            <select id="editAnnouncementCategory" name="editAnnouncementCategory" required>
                                <option value="general">General</option>
                                <option value="meeting">Meeting</option>
                                <option value="event">Event</option>
                                <option value="notice">Notice</option>
                                <option value="emergency">Emergency</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="editAnnouncementPriority">Priority *</label>
                            <select id="editAnnouncementPriority" name="editAnnouncementPriority" required>
                                <option value="low">Low</option>
                                <option value="medium">Medium</option>
                                <option value="high">High</option>
                                <option value="urgent">Urgent</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="editAnnouncementMessage">Message *</label>
                        <textarea id="editAnnouncementMessage" name="editAnnouncementMessage" rows="6" required></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                        </svg>
                        Update Announcement
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script src="./js/mobile-menu.js"></script>
    <!-- Modular JavaScript -->
    <script src="./js/utils.js"></script>
    <script src="./js/dashboard.js"></script>
    <script src="./js/accounts.js"></script>
    <script src="./js/crops.js"></script>
    <script src="./js/equipment.js"></script>
    <script src="./js/fertilizer.js"></script>
    <script src="./js/fertilizer-types.js"></script>
    <script src="./js/announcements.js"></script>
    <script src="./js/admin-feedback.js"></script>
    <script src="./js/member-rentals.js"></script>
    <script src="./js/non-member-rentals.js"></script>
    <script src="./js/membership-fee.js"></script>
    <script src="./js/reports.js"></script>
    <script src="./js/analytics.js"></script>
    <script src="./js/main.js"></script>
</body>

</html>